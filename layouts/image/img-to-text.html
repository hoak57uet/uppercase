{{ define "main" }}
<style>
    .width-control input {
        font-size: 16px;
        padding: 5px;
        border: 1px solid #ccc;
        border-radius: 4px;
        width: 80px;
        text-align: center;
        margin-bottom: 10px;
    }
</style>
<div class="container">
    <h1>Image to Text Converter â€“ Extract Text from Images with Ease</h1>
    <p>Quickly convert images to text. Upload your image to extract text for editing, copying, or sharing. Perfect for
        scanned documents, screenshots, and more.</p>
    <div class="upload-box" id="uploadBox">
        <input type="file" id="fileInput" accept="image/*"/>
        <p>Drag & drop an image here or <span>browse</span></p>
    </div>
    <div class="textarea-container">
        <!-- Input text area -->
        <div class="output-box">
            <label for="inputText">Your text</label>
            <textarea id="inputText" placeholder="Your text here..."></textarea>
            <div class="counts">
                Character Count: <span id="charCount">0</span> |
                Word Count: <span id="wordCount">0</span> |
                Sentence Count: <span id="sentenceCount">0</span> |
                Line Count: <span id="lineCount">0</span>
                <button class="copy-button" onclick="copyText('inputText', 'copiedMessage1')">
                    Copy
                </button>
                <span class="copied-message" id="copiedMessage1">Copied</span>
            </div>
        </div>
    </div>

    <div>
        <section>
            <h2>About the Image to Text Converter</h2>
            <p>Our Image to Text Converter allows you to extract text from any image with just a few clicks. Whether
                you're working with scanned documents, screenshots, or photos, this tool makes it easy to capture and
                convert the text, saving you time from manually typing it out. Perfect for students, professionals, and
                anyone who needs to digitize text content quickly and accurately.</p>

            <h2>How It Works</h2>
            <ol>
                <li><strong>Upload an Image:</strong> Start by selecting a JPG, PNG, or other supported image file that
                    contains text you want to extract.
                </li>
                <li><strong>OCR Processing:</strong> Once the image is uploaded, our tool uses Optical Character
                    Recognition (OCR) technology to scan and convert the text in the image.
                </li>
                <li><strong>Copy or Edit Text:</strong> After conversion, the extracted text is displayed, ready for you
                    to copy, edit, or save for later use.
                </li>
            </ol>

            <p>This tool is especially useful for turning printed documents into digital text, extracting information
                from receipts, business cards, or even turning handwritten notes into editable text files. All
                conversions are processed securely within your browser, ensuring your images and text remain
                private.</p>
        </section>
        <section>
            <h2>Frequently Asked Questions (FAQ)</h2>

            <h3>1. What is Image to Text Conversion?</h3>
            <p>Image to Text Conversion is a process where text is extracted from an image using Optical Character
                Recognition (OCR) technology. It allows you to convert text found in images into editable text
                format.</p>

            <h3>2. How accurate is the text extraction?</h3>
            <p>The accuracy depends on the quality of the image and the clarity of the text. High-resolution images with
                clear text will yield the best results.</p>

            <h3>3. What types of images can be converted?</h3>
            <p>Our tool supports most common image formats, including JPG, PNG, BMP, and GIF. The image must contain
                visible text for the conversion to work effectively.</p>

            <h3>4. Can I convert handwritten text?</h3>
            <p>While the tool is designed to work best with printed text, it may also extract readable handwritten text
                depending on its legibility. For best results, use printed or typed text in your images.</p>

            <h3>5. Is this tool secure?</h3>
            <p>Yes, all image-to-text conversions are done locally in your browser, ensuring complete privacy. No data
                is uploaded to any server, so your images and text remain safe.</p>
        </section>


    </div>


</div>
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@2.1.0/dist/tesseract.min.js"></script>
<script>
    function countWords(inputText) {

        // Character count
        document.getElementById('charCount').textContent = inputText.length;

        // Word count
        const wordCount = inputText.trim() === '' ? 0 : inputText.trim().split(/\s+/).length;
        document.getElementById('wordCount').textContent = wordCount;

        // Sentence count
        const sentenceCount = inputText.split(/[.!?]+/).filter(Boolean).length;
        document.getElementById('sentenceCount').textContent = sentenceCount;

        // Line count
        const lineCount = inputText.split(/\n/).length;
        document.getElementById('lineCount').textContent = lineCount;
    }

    uploadBox.addEventListener('click', () => {
        fileInput.click();
    });

    uploadBox.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadBox.style.borderColor = '#007bff';
        uploadBox.style.backgroundColor = '#f0f8ff';
    });

    uploadBox.addEventListener('dragleave', () => {
        uploadBox.style.borderColor = '#aaa';
        uploadBox.style.backgroundColor = '#f9f9f9';
    });

    uploadBox.addEventListener('drop', (e) => {
        e.preventDefault();
        handleFileUpload(e.dataTransfer.files[0]);
        uploadBox.style.borderColor = '#aaa';
        uploadBox.style.backgroundColor = '#f9f9f9';
    });

    fileInput.addEventListener('change', () => {
        handleFileUpload(fileInput.files[0]);
    });

    function handleFileUpload(file) {
        document.getElementById('inputText').textContent = "Recognizing... Please be aware that the process is ongoing. Do not close your browser!";
        Tesseract.recognize(
            file,
            'eng', // Language code
            {
                logger: info => console.log(info) // Log progress
            }
        ).then(({data: {text}}) => {
            document.getElementById('inputText').textContent = text;
            countWords(text)
        }).catch(error => {
            console.error('Error:', error);
        });
    }


</script>
{{ end }}