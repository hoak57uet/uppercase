{{ define "main" }}
<div class="container">
    <h1>Text to Morse Code and Morse Code to Text Converter - Efficient Encoding Tool</h1>
    <p>Convert text to Morse code and Morse code to text with ease using our online converter. Ideal for learning Morse
        code, communication, and data encoding.</p>

    <div class="textarea-container">
        <!-- Input text area -->
        <div class="output-box">
            <label for="outputText">Your text</label>
            <textarea id="inputText" placeholder="Enter your text here..."></textarea>
            <div class="counts">
                Character Count: <span id="charCount">0</span> |
                Word Count: <span id="wordCount">0</span> |
                Sentence Count: <span id="sentenceCount">0</span> |
                Line Count: <span id="lineCount">0</span>
            </div>
        </div>
        <!-- Output text area -->
        <div class="output-box">
            <label for="outputText">Morse Code</label>
            <textarea id="outputText" placeholder="Morse code will appear here..."></textarea>
            <div>
                <button id="copy-output" class="copy-button" onclick="copyText('outputText', 'copy-output')">
                    Copy
                </button>
                <span class="copied-message" id="copiedMessage1">Copied</span>
            </div>
        </div>
    </div>

    <div>
        <section>
            <h2>About Our Text to Morse Code and Morse Code to Text Converter Tool</h2>
            <p>Our Text to Morse Code and Morse Code to Text converter tool simplifies the process of converting between
                textual data and Morse code. Whether you're learning Morse code, need to encode messages for
                communication, or decode Morse code back into readable text, our tool makes it fast and easy.</p>

            <p>Morse code is a method of encoding text characters as sequences of dots and dashes, which are used in
                telecommunication and emergency signaling. Converting text to Morse code and vice versa is valuable for
                learning, practice, and various practical applications.</p>

            <h2>How It Works</h2>
            <p>Using our Text to Morse Code and Morse Code to Text converter is simple:</p>

            <ul>
                <li><strong>Convert Text to Morse Code:</strong> Enter your text into the input field and click the
                    "Convert to Morse Code" button. The tool will translate each character into its Morse code
                    representation, separating codes with spaces.
                </li>
                <li><strong>Convert Morse Code to Text:</strong> Input your Morse code string into the input field and
                    click the "Convert to Text" button. The tool will decode the Morse code and return the original
                    text.
                </li>
                <li><strong>Copy or Download:</strong> After conversion, you can copy the result directly or download it
                    if needed for further use.
                </li>
            </ul>

            <p>Our tool supports a wide range of characters and Morse code formats, ensuring accurate and reliable
                conversions. It is designed to handle various input sizes and provides quick results.</p>
        </section>
        <section>
            <h2>Frequently Asked Questions (FAQ)</h2>

            <h3>1. What is Morse code?</h3>
            <p>Morse code is a method of encoding text characters as sequences of dots and dashes. Each character is
                represented by a unique combination of these symbols, making it suitable for telecommunication and
                emergency signaling.</p>

            <h3>2. Why should I convert text to Morse code?</h3>
            <p>Converting text to Morse code can be useful for learning and practicing Morse code, encoding messages for
                various communication methods, or decoding messages received in Morse code format.</p>

            <h3>3. How do I convert text to Morse code?</h3>
            <p>Enter the text you want to convert into the input field and click "Convert to Morse Code". The tool will
                translate your text into Morse code and display the result.</p>

            <h3>4. How do I convert Morse code to text?</h3>
            <p>Input your Morse code string into the input field and click "Convert to Text". The tool will decode the
                Morse code and return the original text.</p>

            <h3>5. Can I use this tool for long texts or Morse code?</h3>
            <p>Yes, our tool is designed to handle various sizes of text and Morse code strings efficiently. For very
                large inputs, processing times may vary.</p>

            <h3>6. Is my data secure when using this tool?</h3>
            <p>Yes, your data is secure. The conversion takes place directly in your browser, ensuring that your text
                and Morse code are not uploaded to external servers.</p>

            <h3>7. What should I do if the conversion result is not as expected?</h3>
            <p>Ensure that your input text or Morse code is correctly formatted. Check that Morse code is properly
                separated by spaces, and verify that your input does not contain extra characters or spaces. Try
                converting again if necessary.</p>
        </section>


    </div>


</div>

<script>
    function countWords(inputText) {

        // Character count
        document.getElementById('charCount').textContent = inputText.length;

        // Word count
        const wordCount = inputText.trim() === '' ? 0 : inputText.trim().split(/\s+/).length;
        document.getElementById('wordCount').textContent = wordCount;

        // Sentence count
        const sentenceCount = inputText.split(/[.!?]+/).filter(Boolean).length;
        document.getElementById('sentenceCount').textContent = sentenceCount;

        // Line count
        const lineCount = inputText.split(/\n/).length;
        document.getElementById('lineCount').textContent = lineCount;
    }

    const morseCodeMap = {
        'A': '.-', 'B': '-...', 'C': '-.-.', 'D': '-..', 'E': '.', 'F': '..-.',
        'G': '--.', 'H': '....', 'I': '..', 'J': '.---', 'K': '-.-', 'L': '.-..',
        'M': '--', 'N': '-.', 'O': '---', 'P': '.--.', 'Q': '--.-', 'R': '.-.',
        'S': '...', 'T': '-', 'U': '..-', 'V': '...-', 'W': '.--', 'X': '-..-',
        'Y': '-.--', 'Z': '--..',

        '0': '-----', '1': '.----', '2': '..---', '3': '...--', '4': '....-', '5': '.....',
        '6': '-....', '7': '--...', '8': '---..', '9': '----.',

        '.': '.-.-.-', ',': '--..--', '?': '..--..', "'": '.----.', '!': '-.-.--', '/': '-..-.',
        '(': '-.--.', ')': '-.--.-', '&': '.-...', ':': '---...', ';': '-.-.-.', '=': '-...-',
        '+': '.-.-.', '-': '-....-', '_': '..--.-', '"': '.-..-.', '@': '.--.-', ' ': ' / '
    };

    function textToMorse(text) {
        text = text.toUpperCase();
        let morseCode = '';
        for (let i = 0; i < text.length; i++) {
            if (morseCodeMap[text[i]] !== undefined) {
                morseCode += morseCodeMap[text[i]] + ' ';
            }
        }
        return morseCode.trim();
    }

    const reverseMorseCodeMap = Object.fromEntries(
        Object.entries(morseCodeMap).map(([key, value]) => [value, key])
    );

    function morseToText(morse) {
        return morse.split(' ').map(code => reverseMorseCodeMap[code] || ' ').join('');
    }


    // Event listener to handle input changes and mode
    document.getElementById('inputText').addEventListener('input', function () {
        const inputText = this.value;
        document.getElementById('outputText').value = textToMorse(inputText);
    });

    document.getElementById('outputText').addEventListener('input', function () {
        const inputText = this.value;
        document.getElementById('inputText').value = morseToText(inputText);
    });
</script>
{{ end }}