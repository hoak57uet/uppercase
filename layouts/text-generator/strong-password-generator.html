{{ define "main" }}
<style>
    #copyAllBtn {
        margin-top: 10px;
        background-color: #17a2b8;
    }

    #copyAllBtn:hover {
        background-color: #138496;
    }

    .container-content {
        max-width: 600px;
        margin: auto;
        background: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    select, input[type=number] {
        width: 200px;
        padding: 8px;
        margin-bottom: 10px;
        border: 1px solid #ced4da;
        border-radius: 5px;
        background-color: #fff;
        font-size: 16px;
        color: #495057;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        appearance: none;
        cursor: pointer;
        outline: none;
    }

    select:focus {
        border-color: #28a745;
        box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.25);
    }

    select option {
        padding: 10px;
        background-color: #fff;
        color: #495057;
    }

    span.result {
        white-space: nowrap;
        font-size: 14px;
        flex: 1;
        align-content: center;
        overflow: hidden;
    }

    .result-container {
        display: flex;
        flex-direction: row;
        width: 100%;
    }

    #passwords {
        margin-top: 20px;
        font-size: 1.1em;
    }

    .password-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 5px;
        background-color: #e9ecef;
        padding: 5px;
        border-radius: 5px;
    }

    label {
        margin: 5px 0px;
        font-weight: lighter;
    }

    @media screen and (max-width: 768px) {
        .container-content {
            padding: 5px;
            font-size: 13px;
            font-style: italic;
        }

        .container-content > label {
            margin: 0px;
        }
    }
</style>
<div class="container">
    <h1>Generate Secure Passwords with Customizable Options</h1>
    <p>Your passwords are generated locally, ensuring maximum security and privacy.</p>
    <div class="container-content">
        <label for="length" class="bold">Password Length:</label>
        <select id="length">
            <option value="8">8</option>
            <option value="12">12</option>
            <option value="16">16</option>
            <option value="22">22</option>
            <option value="30">30</option>
            <option value="40">40</option>
            <option value="50">50</option>
            <option value="60">60</option>
        </select>
        <label><input type="checkbox" id="includeNumbers" checked> Include Numbers: (e.g. 123456)</label>
        <label><input type="checkbox" id="includeLowercase" checked> Include Lowercase Characters: (e.g.
            abcdefgh)</label>
        <label><input type="checkbox" id="includeUppercase" checked> Include Uppercase Characters: (e.g.
            ABCDEFGH)</label>
        <label><input type="checkbox" id="beginWithLetter"> Begin With A Letter: (Not a number or a symbol)</label>
        <label><input type="checkbox" id="includeSymbols"> Include Symbols: (e.g.
            !"#$%&'()*+,-./:;<=>?@[]^_`{|}~)</label>
        <label><input type="checkbox" id="noSimilar"> No Similar Characters: (Don't use i, l, 1, L, o,
            0, O)</label>
        <label><input type="checkbox" id="noDuplicate"> No Duplicate Characters</label>
        <label><input type="checkbox" id="noSequential"> No Sequential Characters: (E.g. abc, 789)</label>
        <div class="number-password">
            <label for="quantity" class="bold">Quantity:</label>
            <input type="number" id="quantity" value="1" min="1" max="100"/>
        </div>
        <button id="generateButton" class="large">Generate</button>
        <div id="passwords"></div>
        <button id="copyAllBtn" class="large">Copy All</button>
    </div>
    <br/>
    <div id="introduction">
        <section>
            <h2>About Our Secure Password Generator Tool</h2>
            <p>Our Password Generator tool offers a fast and secure way to create strong passwords tailored to your
                specific needs. Customize your password length and select from various options, including numbers,
                uppercase and lowercase letters, symbols, and more. All passwords are generated directly on your device,
                ensuring that no data is sent to a server, making it 100% safe and private.</p>

            <h2>How It Works</h2>
            <p>Follow these simple steps to generate secure passwords:</p>

            <ul>
                <li><strong>Select Password Criteria:</strong> Choose options like including numbers, lowercase and
                    uppercase letters, symbols, and set additional rules like "No Similar Characters," "No Sequential
                    Characters," and "No Duplicates."
                </li>
                <li><strong>Set Password Length:</strong> Define the length of the password(s) you need.</li>
                <li><strong>Set Quantity:</strong> Enter the number of passwords you want to generate at once (default
                    is 1).
                </li>
                <li><strong>Generate Passwords:</strong> Click the "Generate" button to create your passwords. Each
                    password will appear with a "Copy" button next to it, and you can copy all at once using the "Copy
                    All" button.
                </li>
            </ul>

            <p>With this tool, you can ensure your passwords are strong, random, and unique, protecting your accounts
                from potential security breaches.</p>
        </section>
        <section>
            <h2>Frequently Asked Questions (FAQ)</h2>

            <h3>1. Are the passwords generated securely?</h3>
            <p>Yes, all passwords are generated locally on your device. None of your data or the generated passwords are
                sent over the internet, ensuring maximum security and privacy.</p>

            <h3>2. What options can I customize for password generation?</h3>
            <p>You can customize the following options:
            <ul>
                <li><strong>Include Numbers:</strong> Add numbers like 123456.</li>
                <li><strong>Include Lowercase Characters:</strong> Include lowercase letters like abcdefgh.</li>
                <li><strong>Include Uppercase Characters:</strong> Include uppercase letters like ABCDEFGH.</li>
                <li><strong>Begin with a Letter:</strong> Ensure the password starts with a letter, not a number or
                    symbol.
                </li>
                <li><strong>Include Symbols:</strong> Add special characters like !, @, #, $.</li>
                <li><strong>No Similar Characters:</strong> Exclude confusing characters like i, l, 1, L, o, 0, O.</li>
                <li><strong>No Duplicate Characters:</strong> Prevent repeated characters within the password.</li>
                <li><strong>No Sequential Characters:</strong> Avoid sequences like abc or 123.</li>
            </ul>
            <h3>3. Can I generate multiple passwords at once?</h3>
            <p>Yes, you can generate as many passwords as you need at one time by entering the quantity before clicking
                "Generate."</p>

            <h3>4. How secure is this tool?</h3>
            <p>The tool is extremely secure because all password generation happens locally on your device. No passwords
                or user data are transmitted over the internet, keeping everything private and protected.</p>

            <h3>5. How can I copy the generated passwords?</h3>
            <p>After generating the passwords, you can copy each one individually using the "Copy" button next to each
                password. You can also copy all generated passwords at once using the "Copy All" button.</p>

            <h3>6. Can I use this tool on mobile devices?</h3>
            <p>Yes, our password generator is fully optimized for mobile devices, ensuring a smooth and user-friendly
                experience on any platform.</p>
        </section>

    </div>
</div>

<script>
    function hasSequentialCharacters(password) {
        for (let i = 0; i < password.length - 1; i++) {
            if (Math.abs(password.charCodeAt(i) - password.charCodeAt(i + 1)) === 1) {
                return true;
            }
        }
        return false;
    }

    function generatePassword(length, includeNumbers, includeLowercase, includeUppercase, includeSymbols, beginWithLetter, noSimilar, noDuplicate, noSequential) {
        let charset = '';
        if (includeNumbers) charset += '0123456789';
        if (includeLowercase) charset += 'abcdefghijklmnopqrstuvwxyz';
        if (includeUppercase) charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        if (includeSymbols) charset += '!"#$%&\'()*+,-./:;<=>?@[]^_`{|}~';

        if (noSimilar) {
            charset = charset.replace(/[il1Lo0O]/g, '');
        }

        let password = '';
        const usedChars = new Set();

        if (beginWithLetter) {
            const firstCharSet = includeLowercase ? 'abcdefghijklmnopqrstuvwxyz' : 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            password += firstCharSet[Math.floor(Math.random() * firstCharSet.length)];
            usedChars.add(password.charAt(0));
            length--;
        }

        while (password.length < length) {
            let char = charset[Math.floor(Math.random() * charset.length)];
            if (noDuplicate && usedChars.has(char)) continue;
            if (noSequential && password.length > 0 && hasSequentialCharacters(password + char)) continue;
            if (char === 'n' && password.endsWith("\\")) continue;
            password += char;
            usedChars.add(char);
        }

        return password;
    }

    document.getElementById('generateButton').addEventListener('click', function () {
        const length = parseInt(document.getElementById('length').value);
        const quantity = parseInt(document.getElementById('quantity').value);
        const includeNumbers = document.getElementById('includeNumbers').checked;
        const includeLowercase = document.getElementById('includeLowercase').checked;
        const includeUppercase = document.getElementById('includeUppercase').checked;
        const beginWithLetter = document.getElementById('beginWithLetter').checked;
        const includeSymbols = document.getElementById('includeSymbols').checked;
        const noSimilar = document.getElementById('noSimilar').checked;
        const noDuplicate = document.getElementById('noDuplicate').checked;
        const noSequential = document.getElementById('noSequential').checked;

        const passwordsContainer = document.getElementById('passwords');
        passwordsContainer.innerHTML = ''; // Clear previous passwords

        for (let i = 0; i < quantity; i++) {
            const password = generatePassword(length, includeNumbers, includeLowercase, includeUppercase, includeSymbols, beginWithLetter, noSimilar, noDuplicate, noSequential);

            const passwordItem = document.createElement('div');
            passwordItem.className = 'password-item';
            passwordItem.innerHTML = `
                    <div class="result-container" ><span class="result">${escapeHTML(password)}</span>
                    <button class="copy-btn copy-button">Copy</button></div>
                `;
            passwordsContainer.appendChild(passwordItem);

            passwordItem.querySelector('.copy-btn').addEventListener('click', function () {
                copyToClipboard(password, this);
            });
        }
    });

    function escapeHTML(str) {
        return str
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#039;");
    }

    document.getElementById('copyAllBtn').addEventListener('click', function () {
        const passwords = Array.from(document.querySelectorAll('.password-item span')).map(span => span.textContent).join('\n');
        copyToClipboard(passwords, this);
    });
</script>
{{ end }}